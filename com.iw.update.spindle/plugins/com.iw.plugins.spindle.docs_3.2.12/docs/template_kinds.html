<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
<title>Kinds of Code Templates</title>
<link rel="stylesheet" href="style/book.css" type="text/css">
</head>
<body>
<img src="images/headerBkgII.jpg"> 
<h1>Kinds of Code Templates</h1>
<p> There are 3 kinds of 'templates' in Spindle: </p>
<ul>
  <li><strong> Content Assist </strong> - Those generated by Spindle upon insertion of xml'y things like 
    new tags and tag attibutes . </li>
  <li> <strong>New File </strong> - Templates for generating new Tapestry xml files: .application, .library, 
    .jwc, .page, and (usually) .html. </li>
  <li> <strong>User Templates </strong> - Lastly, user defined templates for inserting blocks of xml markup 
    into tapestry xml files. </li>
</ul>
<p> Now, lets look at each type one by one: </p>
<h4>Content Assist</h4>
<p> Spindle already generated content assist suggestions for xml tags and tag attibutes dynamically by 
  examining the file's DTD publicId. What has changed here is that now the content assist proposal is 
  a 'template proposal' instead of a straight text insertion. </p>
<p>These template proposals are also computed dynamically based on the DTD in use and are not user configurable. 
  That is, you can't change these templates in the preference page, they don't appear there. </p>
<h4>New File</h4>
<p>These templates are (or are about to be) used by the Spindle wizards to generate new tapestry files. 
  The content of these templates can be examined by visiting the Templates preference page. If you look 
  at them, you will notice that the content of each template describes a skeleton of a complete tapestry 
  xml file. In other words a New File template for a .library file (picking one) is complete in that the 
  template contains the xml PI instruction, the doctype declaration, and the library tag. </p>
<p> As I said these templates are (or are about to be) used by the Spindle wizards to generate new, complete, 
  files. <em>They are also available for use by end users outside the wizards <strong>in one specific 
  case only</strong></em>. That case is: </p>
<ul>
  <li> create a new, empty file of the type you want, again for example a .libray file. <em>for clarity, 
    you didn't use a wizard to create the file</em> </li>
  <li>the file should appear in a Spindle editor. If (by reason of you changing file associations) it 
    does not, open the new empty file in the appropriate Spindle editor. </li>
  <li> hit ctrl-space, choose a template name - voila, the skeleton markup is inserted. </li>
</ul>
<p class="Note"> <strong>Note: </strong>This is the only way users can insert New File templates into files. If the file has any text 
  in it at all, the list of proposals presented on ctrl-space will not show any New File suggestions.
</p>
<p> Users, can modify the default template for each file type and also add thier own. The caveat is that 
  if you modify the template or add one, the owness is on you to ensure the template represents something 
  useful (Spindle can't validate your idea of a template). </p>
<p> To do this, open the workbench preference dialog (Window-&gt;Preferences) and choose: Spindle3-&gt;Templates. 
</p>
<p> A template has 4 chunks of information: Name, Description, Pattern, and Context. </p>
<p> Name and Description are self explanetory; and Pattern is, of course, where you actually define the 
  content of your template. <em>The last field, Context, the the really important one here.</em> </p>
<p>There are 5 contexts defined for New File templates: Application, Library, Component, Page, Template 
  corresponding to, respectively, .application, .library, .jwc, .page, and (usually) .html files. </p>
<p>Its really important that if you are creating your own new file template for say, a jwc file, that 
  you choose the correct context: Component. If you were to choose another context, like Application, 
  goofy results will occur. Take for example this (Somewhat contrived) case: </p>
<p>User wants to change the default template for generating .jwc files. They accidentally, change the 
  default for .application files. That is you changed the default template in context 'Application' instead 
  of 'Component'. Weird results will occur as your template will appear not have 'taken' because if you 
  try to use it in a .jwc file, you get the old default content and not what you expected. Even worse, 
  a new .application file <em>will</em> have the template you defined inserted and that's of course not 
  right either. </p>
<p> <strong>The moral: make sure you know you are changing or adding a template in the correct context!</strong> 
</p>
<p> <strong>User Templates</strong> </p>
<p> The last type is the User Template. These templates are not used by Spindle wizards at all. You can 
  define your own user templates to contain anything you want. Although, since they are going to be inserted 
  into xml files (or html templates), you should ensure that your templates represent valid markup! </p>
<p> To do this, open the workbench preference dialog (Window-&gt;Preferences) and choose: Spindle3-&gt;Templates 
</p>
<p> These templates have the context type 'User'. </p>
<p>As an example, if many .page files in your project use the same, or similar, property-specification 
  tag over and over, one might define thier own template for this. </p>
<p> The Spindle editors will include user templates in the list of content completion (ctrl-space) in 
  one case only: </p>
<p> This is hard to explain: The cursor must be located in whitespace outside of any xml like markup. 
</p>
<p> i.e. if the cursor is in side a tag, or a tag attribute, the user template proposals will not appear. 
</p>
<p> Assume the the 'I' character represents the cursor position. If you hit ctrl-space... </p>
<p class="Code"> &lt;Imytag/&gt; - no user template proposals </p><br>
<p class="Code"> &lt;!-- I --&gt; - nope </p><br>
<p class="Code"> &lt;/endI&gt; - nope </p><br>
<p class="Code"> &lt;application name="I"&gt; or &lt;application I name=""&gt; or &lt;application name=""I&gt; - nope 
</p><br>
<p class="Code"> I&lt;application name=""&gt; or &lt;application name=""&gt;I - yes! </p><br>
<p class="Code"> &lt;bean&gt; 
 &lt;set-property/&gt;

  I

 &lt;/bean&gt; - yes! </p>
<p> see what I mean? </p>
</body>
</html>
