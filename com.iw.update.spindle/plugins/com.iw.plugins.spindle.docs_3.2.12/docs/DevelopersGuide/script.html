<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;10.&nbsp;Tapestry and JavaScript</title><link href="Tapestry.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.64.1" name="generator"><link rel="home" href="DevelopersGuide.html" title="Tapestry Developer's Guide"><link rel="up" href="DevelopersGuide.html" title="Tapestry Developer's Guide"><link rel="previous" href="coding-components.assets.html" title="Component Assets"><link rel="next" href="script.body.html" title="The Body component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&nbsp;10.&nbsp;Tapestry and JavaScript</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="coding-components.assets.html"><img src="common-images/prev.png" alt="Prev"></a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="script.body.html"><img src="common-images/next.png" alt="Next"></a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="script"></a>Chapter&nbsp;10.&nbsp;Tapestry and JavaScript</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="script.body.html">The Body component</a></span></dt><dt><span class="section"><a href="script.spec.html">Script Specifications and Script Components</a></span></dt></dl></div><p>
Building cutting edge Web applications is not entirely about the server side.
A significant amount of work must be done on the client side to support truly dynamic
user experiences.  Typically, this scripting is done using the JavaScript language embedded
into major web browsers such as Internet Explorer and Netscape Navigator.
</p><p>
These effects range from simple effects such as image rollovers (changing 
the icon used for a link when the cursor is over it) to more involved
patterns such as client side validation of forms or even complex animations.
</p><p>
In traditional, static web page development, the HTML producer (the person creating
the static HTML page)
is completely responsible
for this aspect of development, usually aided by a web page authoring tool, such as
Dreamweaver.  Ultimately, though, the HTML producer assigns unique names or ids to
various elements on the page, and attaches JavaScript event handlers to 
the elements.</p><div class="example"><a name="N11076"></a><p class="title"><b>Example&nbsp;10.1.&nbsp;Traditional JavaScript usage</b></p><table border="0" bgcolor="#E0E0E0"><tr><td><pre class="programlisting">

var preload = new Array();
preload[0] = new Image();
preload[0].src = "/images/button.gif";
preload[1] = new Image();
preload[1].src = "/images/button-highlight.gif";

function rollover(image, index)
{
  image.src = preload[index].src;
}

.
.
.
  &lt;a href="..."
    onMouseOver="javascript:rollover(document.button, 1);"
    onMouseOut="javascript:rollover(document.button, 0);"&gt;
    &lt;img name="button" src="/images/button.gif"&gt;
  &lt;/a&gt;

</pre></td></tr></table></div><p>
The preloading business is all about forcing the browser to load the image <span class="emphasis"><em>before</em></span>
it is needed, so that it is already in memory when the mouseover event handler
needs it.
</p><p>
From here, adding additional rollovers means extending the <tt class="varname">preload</tt> array, providing
names for the additional <tt class="sgmltag-starttag">&lt;img&gt;</tt> elements and writing the additional
event handlers for the <tt class="sgmltag-starttag">&lt;a&gt;</tt> elements.
</p><p>
Now, envision a running Tapestry application.  With everything so dynamic (especially when you account for things like the
<a href="../ComponentReference/Foreach.html" target="_self"><tt class="classname">Foreach</tt></a> component), it's all but impossible to even know how many links and buttons will be on the page, never 
mind what they'll
all be named.  At first glance, it may appear that Tapestry prevents the use of this kind of scripting.
</p><p>
In fact, Tapestry is structured to enhance this kind of scripting.  This is faciliated by the <a href="../ComponentReference/Body.html" target="_self"><tt class="classname">Body</tt></a> component, which replaces
the <tt class="sgmltag-starttag">&lt;body&gt;</tt> element of the page.
The <a href="script.body.html" title="The Body component">next section</a> described the services
the <a href="../ComponentReference/Body.html" target="_self"><tt class="classname">Body</tt></a> component povides to facilitate complex client-side scripting.
</p></div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="coding-components.assets.html"><img src="common-images/prev.png" alt="Prev"></a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="DevelopersGuide.html"><img src="common-images/up.png" alt="Up"></a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="script.body.html"><img src="common-images/next.png" alt="Next"></a></td></tr><tr><td valign="top" align="left" width="40%">Component Assets&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="DevelopersGuide.html"><img src="common-images/home.png" alt="Home"></a></td><td valign="top" align="right" width="40%">&nbsp;The Body component</td></tr></table></div></body></html>